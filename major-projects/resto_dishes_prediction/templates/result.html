{% extends "layout.html" %}
{% block title %}Prediction Result{% endblock %}

{% block content %}

<div class="row justify-content-center">
    <div class="col-lg-6 col-md-8">

        <div class="section-card text-center py-5 position-relative overflow-hidden">
            
            {% set pred_lower = prediction.lower() %}
            {% set is_success = ('success' in pred_lower and 'unsuccessful' not in pred_lower) or 'high' in pred_lower %}
            
            {% set result_color = '#51cf66' if is_success else '#ff6b6b' %}
            {% set result_icon = 'bi-check-circle-fill' if is_success else 'bi-x-circle-fill' %}
            {% set shadow_color = result_color ~ '40' %} {# Hex alpha for shadow #}

            <div class="position-absolute top-50 start-50 translate-middle" 
                 style="width: 300px; height: 300px; background: {{ result_color }}; filter: blur(120px); opacity: 0.15; z-index: 0;"></div>

            <div class="position-relative" style="z-index: 1;">
                
                <h6 class="text-uppercase text-muted fw-bold mb-4" style="letter-spacing: 2px;">Model Verdict</h6>

                <div class="mb-4">
                    <i class="bi {{ result_icon }} display-1" 
                       style="color: {{ result_color }}; text-shadow: 0 0 30px {{ shadow_color }};"></i>
                </div>

                <h1 class="display-3 fw-bold mb-3" style="color: {{ result_color }};">
                    {{ prediction|capitalize }}
                </h1>

                <p class="text-muted lead px-4 mb-5">
                    Based on the provided parameters, the model predicts this dish will likely be 
                    <strong style="color: {{ result_color }};">{{ prediction|lower }}</strong>.
                </p>

                <div class="divider mx-auto mb-5" style="width: 50%;"></div>

                <div class="d-flex flex-column flex-sm-row justify-content-center gap-3">
                    <a href="{{ url_for('predict') }}" class="btn btn-primary px-5 py-2 fw-bold">
                        <i class="bi bi-arrow-repeat me-2"></i> Predict Another
                    </a>
                    <a href="{{ url_for('index') }}" class="btn btn-outline-light px-5 py-2">
                        <i class="bi bi-house me-2"></i> Return Home
                    </a>
                </div>

            </div>

        </div>

    </div>
</div>

<style>
    /* Simple Pulse Animation for the Result Icon */
    @keyframes pulse-icon {
        0% { transform: scale(1); opacity: 1; }
        50% { transform: scale(1.1); opacity: 0.8; }
        100% { transform: scale(1); opacity: 1; }
    }
    .display-1 {
        animation: pulse-icon 2s infinite ease-in-out;
    }
</style>

{% endblock %}